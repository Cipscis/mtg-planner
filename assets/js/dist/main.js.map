{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mtg-planner/./app/assets/js/src/DeckCard.ts","webpack://mtg-planner/./app/assets/js/src/Card.ts","webpack://mtg-planner/./app/assets/js/src/Decklist.ts","webpack://mtg-planner/./app/assets/js/src/main.ts","webpack://mtg-planner/./app/assets/js/src/Deck.ts","webpack://mtg-planner/./app/assets/js/src/data/decklist.ts"],"sourcesContent":["import { ICardOptions, Card } from './Card';\nimport { Decklist } from './Decklist';\n\ninterface IDeckCardOptions extends ICardOptions {\n\tflags?: Set<string>;\n\tgroups?: Set<string>;\n\toverrides?: Map<string, string>;\n}\n\nclass DeckCard extends Card implements IDeckCardOptions {\n\tflags?: Set<string>;\n\tgroups?: Set<string>;\n\toverrides?: Map<string, string>;\n\n\tconstructor(options: IDeckCardOptions) {\n\t\tsuper(options);\n\n\t\tif (options.flags) {\n\t\t\tthis.flags = options.flags;\n\t\t}\n\n\t\tif (options.groups) {\n\t\t\tthis.groups = options.groups;\n\t\t}\n\n\t\tif (options.overrides) {\n\t\t\tthis.overrides = options.overrides;\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn Decklist.writeLine(this);\n\t}\n};\n\nexport { DeckCard };\n","interface ICardOptions {\n\tname: string;\n\tquantity: number;\n}\n\nclass Card implements ICardOptions {\n\tname: string;\n\tquantity: number;\n\n\tconstructor(options: ICardOptions) {\n\t\tthis.name = options.name;\n\t\tthis.quantity = options.quantity;\n\t}\n};\n\nexport {\n\tICardOptions,\n\t\n\tCard,\n};\n","import { DeckCard } from './DeckCard';\nimport { Deck } from './Deck';\n\nconst Decklist = {\n\twrite(deck: Deck) {\n\t\tlet cards = deck.cards;\n\t\tlet cardsList = cards.map(Decklist.writeLine);\n\n\t\tconst decklist = cardsList.join('\\n');\n\n\t\treturn decklist;\n\t},\n\n\twriteLine(card: DeckCard) {\n\t\tlet line = `${card.quantity}x ${card.name}`;\n\n\t\tif (card.flags) {\n\t\t\tline += Array.from(card.flags).map((flag) => ` *${flag}*`).join('');\n\t\t}\n\n\t\tif (card.groups) {\n\t\t\tline += Array.from(card.groups).map((group) => ` #${group}`).join('');\n\t\t}\n\n\t\tif (card.overrides) {\n\t\t\tline += Array.from(card.overrides).map((override) => ` *${override.join(':')}*`).join('');\n\t\t}\n\n\t\treturn line;\n\t},\n\n\tread(decklist: string) {\n\t\tconst cards = decklist\n\t\t\t.split('\\n')\n\t\t\t.map(Decklist.readLine)\n\t\t\t.filter((value): value is DeckCard => value instanceof DeckCard);\n\n\t\treturn cards;\n\t},\n\n\treadLine(line: string): DeckCard | null {\n\t\tconst flags = Decklist.readLineFlags(line);\n\t\tconst groups = Decklist.readLineGroups(line);\n\t\tconst overrides = Decklist.readLineOverrides(line);\n\n\t\tconst cleanLine = Decklist.cleanLine(line, { flags, groups, overrides });\n\n\t\tconst mainParts = cleanLine.match(/^(\\d+)x (.+)/);\n\n\t\tif (mainParts) {\n\t\t\tconst name = mainParts[2];\n\t\t\tconst quantity = parseInt(mainParts[1], 10);\n\n\t\t\treturn new DeckCard({\n\t\t\t\tname,\n\t\t\t\tquantity,\n\n\t\t\t\tflags,\n\t\t\t\tgroups,\n\t\t\t\toverrides,\n\t\t\t});\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\treadLineFlags(line: string) {\n\t\tconst flagsMatch = line.match(/\\s+\\*[^:]+?\\*/g);\n\t\tif (flagsMatch) {\n\t\t\tconst flags = new Set(flagsMatch.map((flag) => flag.replace(/^\\s+\\*|\\*$/g, '')));\n\t\t\treturn flags;\n\t\t}\n\t},\n\n\treadLineGroups(line: string) {\n\t\tconst groupsMatch = line.match(/\\s+#\\S+/g);\n\t\tif (groupsMatch) {\n\t\t\tconst groups = new Set(groupsMatch.map((group) => group.replace(/^\\s+#/, '')));\n\t\t\treturn groups;\n\t\t}\n\t},\n\n\treadLineOverrides(line: string) {\n\t\tconst overridesMatch = line.match(/\\s+\\*.+?:.+?\\*/g);\n\t\tif (overridesMatch) {\n\t\t\tconst overridesMatrix = overridesMatch.map((override) => override.replace(/^\\s+\\*|\\*$/g, '').split(':'));\n\t\t\tif (overridesMatrix.every((row): row is [string, string] => row.length === 2)) {\n\t\t\t\tconst overrides = new Map(overridesMatrix);\n\t\t\t\treturn overrides;\n\t\t\t}\n\t\t}\n\t},\n\n\tcleanLine(line: string, options?: { groups?: Set<string>, flags?: Set<string>, overrides?: Map<string, string> }) {\n\t\tif (options) {\n\t\t\tif (options.flags) {\n\t\t\t\tconst flagPattern = new RegExp(`\\\\s+\\\\*(${Array.from(options.flags).join('|')})\\\\*`, 'g');\n\t\t\t\tline = line.replace(flagPattern, '');\n\t\t\t}\n\n\t\t\tif (options.groups) {\n\t\t\t\tconst groupPattern = new RegExp(`\\\\s+#(${Array.from(options.groups).join('|')})\\\\b`, 'g');\n\t\t\t\tline = line.replace(groupPattern, '');\n\t\t\t}\n\n\t\t\tif (options.overrides) {\n\t\t\t\tconst overrides = Array.from(options.overrides).map((override) => override.join(':'));\n\t\t\t\tconst overridePattern = new RegExp(`\\\\s+\\\\*(${overrides.map((override) => override.replace(/(\\{|\\})/g, '\\\\$1')).join('|')})\\\\*`, 'g');\n\t\t\t\tline = line.replace(overridePattern, '');\n\t\t\t}\n\t\t}\n\n\t\treturn line;\n\t},\n};\n\nexport { Decklist };\n","// import * as scry from 'scryfall-sdk';\n\nimport decklist from './data/decklist';\nimport { Deck } from './Deck';\n\nconst deck = new Deck(decklist);\nconsole.log(deck.cards, deck.numCards);\n\nconsole.log(deck);\n","import { DeckCard } from './DeckCard';\nimport { Decklist } from './Decklist';\n\nclass Deck {\n\tcards: DeckCard[];\n\n\tconstructor(decklist: string)\n\tconstructor(cards: readonly DeckCard[])\n\tconstructor(cards: string | readonly DeckCard[]) {\n\t\tif (typeof cards === 'string') {\n\t\t\tthis.cards = Decklist.read(cards);\n\t\t} else {\n\t\t\tthis.cards = cards.concat();\n\t\t}\n\t}\n\n\tget numCards() {\n\t\treturn this.cards.reduce((sum, card) => sum + card.quantity, 0);\n\t}\n\n\ttoString() {\n\t\treturn Decklist.write(this);\n\t}\n}\n\nexport { Deck };\n","export default `1x Abundance #Draw #LandsInHand #Proxy\n1x Acidic Slime #ETB #Removal\n1x Aether Tunnel #Unblockable\n1x Arboreal Grazer #ETB #HandRamp\n1x Awakening of Vitu-Ghazi #Bomb\n1x Body Double #Lazav\n1x Bounty of the Luxa #Draw #Ramp\n1x Budoka Gardener #HandRamp #Sink\n1x Cancel #Counterspell\n1x Clone Legion #Bomb #Lazav\n1x Coiling Oracle #Draw #ETB #TopRamp\n1x Confounding Conundrum\n1x Coral Atoll\n1x Covenant of Minds #Draw #Graveyard #Lazav\n1x Crash of Rhino Beetles\n1x Crystal Shard #Bounce #Proxy\n1x Cultivate #LandsInHand #Ramp\n1x Curfew #Bounce\n1x Dungrove Elder\n1x Elemental Bond #Draw #Proxy\n1x Engulfing Slagwurm\n1x Entrancing Melody #Bomb\n1x Evolving Wilds\n1x Expropriate #Bomb\n1x Far Wanderings #Ramp #Threshold\n1x Farhaven Elf #ETB #Ramp\n16x Forest\n1x Foster #Graveyard\n1x Gargos, Vicious Watcher\n1x Garruk's Packleader #Draw\n1x Growth Spiral #Draw #HandRamp\n16x Island\n1x Jungle Basin\n1x Kiora, Behemoth Beckoner #Draw\n1x Mistcutter Hydra\n1x Neutralize #Counterspell\n1x Nylea's Intervention #LandsInHand #Proxy\n1x Path of Discovery #LandsInHand\n1x Portal of Sanctuary #Bounce\n1x Protean Hydra\n1x Quickling #Bounce\n1x Rampaging Baloths #Bomb #Landfall\n1x Reclamation Sage #ETB #Removal\n1x Reliquary Tower #HandSize\n1x Repudiate / Replicate #Proxy #Uro\n1x Risen Reef #Draw #HandRamp\n1x Rogue's Passage #Unblockable\n1x Runic Armasaur #Draw\n1x Sakura-Tribe Elder #Graveyard #Ramp\n1x Sandwurm Convergence #Bomb\n1x Scaretiller #GraveyardRamp #HandRamp\n1x Scute Mob\n1x Seer's Sundial #Draw #Landfall\n1x Silklash Spider #Bomb\n1x Simic Growth Chamber #Proxy\n1x Simic Guildgate\n1x Snap #Bounce #Proxy\n1x Soul of Zendikar #Bomb #Sink\n1x Spellbook #HandSize\n1x Sphinx of Magosi #Bomb #Draw #Sink\n1x Stifle #Uro\n1x Sundial of the Infinite #Uro\n1x Tale's End #Counterspell #Uro\n1x Tatyova, Benthic Druid #Draw #Landfall\n1x Temur Sabertooth #Bounce\n1x Terramorphic Expanse\n1x Unsummon #Bounce\n1x Uro, Titan of Nature's Wrath *CMDR* #Draw #ETB #HandRamp\n1x Wonder #Proxy\n1x Yavimaya Elder #Graveyard #LandsInHand\n1x Abzan Falconer\n1x Arcbond\n1x Atla Palani, Nest Tender *F*\n1x Aura Shards\n1x Beast Whisperer\n1x Bellowing Aegisaur\n1x Boros Charm\n1x Boros Garrison\n1x Boros Guildgate\n1x Boros Signet\n1x Braid of Fire\n1x Brash Taunter\n1x Cacophodon\n1x Colossal Majesty\n1x Command Tower\n1x Congregation at Dawn\n1x Death's Presence\n1x Dense Foliage\n1x Elemental Bond\n1x Enduring Scalelord\n1x Evolving Wilds\n1x Fertilid\n1x Forerunner of the Empire\n5x Forest\n1x Forgotten Ancient\n1x Fury Storm\n1x Gideon's Sacrifice\n1x Gift of Immortality\n1x Gishath, Sun's Avatar\n1x Gleam of Authority\n1x Gruul Guildgate\n1x Gruul Signet\n1x Gruul Turf\n1x Hardened Scales\n1x Hornet Nest\n1x Hungering Hydra\n1x Hydra's Growth\n1x Idol of Oblivion\n1x Illusionist's Bracers\n1x Inspiring Call\n1x Jungle Shrine\n1x Longshot Squad\n1x Marath, Will of the Wild *CMDR*\n1x Marauding Raptor\n1x Mosswort Bridge\n6x Mountain\n1x Needletooth Raptor\n1x Nomads en-Kor\n1x Opal Palace\n1x Oran-Rief, the Vastwood\n1x Overgrowth\n1x Path of Discovery\n1x Pir, Imaginative Rascal\n7x Plains\n1x Polyraptor\n1x Pyrohemia\n1x Ranging Raptors\n1x Raptor Hatchling\n1x Ripjaw Raptor\n1x Rite of Passage\n1x Rugged Highlands\n1x Seedborn Muse\n1x Selesnya Guildgate\n1x Selesnya Sanctuary\n1x Shaman en-Kor\n1x Shinewend\n1x Siegehorn Ceratops\n1x Silverclad Ferocidons\n1x Solidarity of Heroes\n1x Song of Freyalise\n1x Stone Quarry\n1x Summoner's Pact *CMC:4* *COST:{2}{G}{G}*\n1x Sungrass Prairie\n1x Swiftfoot Boots\n1x Terramorphic Expanse\n1x Timber Gorge\n1x Together Forever\n1x Tranquil Expanse\n1x Trapjaw Tyrant\n1x Ulasht, the Hate Seed\n1x Unbreakable Formation\n1x Veil of Summer\n1x Victory Chimes\n1x Wilderness Reclamation\n1x Wind-Scarred Crag`;"],"names":["DeckCard","name","quantity","constructor","options","this","flags","groups","overrides","super","toString","Decklist","writeLine","write","deck","cards","map","join","card","line","Array","from","flag","group","override","read","decklist","split","readLine","filter","value","readLineFlags","readLineGroups","readLineOverrides","mainParts","cleanLine","match","parseInt","flagsMatch","Set","replace","groupsMatch","overridesMatch","overridesMatrix","every","row","length","Map","flagPattern","RegExp","groupPattern","overridePattern","concat","numCards","reduce","sum","console","log"],"sourceRoot":""}